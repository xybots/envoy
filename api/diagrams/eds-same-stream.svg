<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="521" height="250"><source><![CDATA[participant Envoy as E [color="black"]
participant Management Server as M [color="black"]

E->M: (V=X,R={foo,bar},N=A,T=EDS) [color="green"]
M->E: (V=Y,R={foo:...,bar:...},N=B,T=EDS) [color="gray"]
E->M: (V=Y,R={foo,bar},N=B,T=EDS) [color="green"]]]></source><desc style="-webkit-tap-highlight-color:transparent">Created with RaphaÃ«l 2.2.0</desc><defs style="-webkit-tap-highlight-color:transparent"><path id="raphael-marker-block" stroke-linecap="round" d="M5,0 0,2.5 5,5z" style="-webkit-tap-highlight-color:transparent"/><marker id="raphael-marker-endblock55-objsrefz" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color:transparent"><use xmlns:xlink="http://www.w3.org/1999/xlink" fill="green" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block" style="-webkit-tap-highlight-color:transparent"/></marker><marker id="raphael-marker-endblock55-obj4i9mm" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color:transparent"><use xmlns:xlink="http://www.w3.org/1999/xlink" fill="gray" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block" style="-webkit-tap-highlight-color:transparent"/></marker><marker id="raphael-marker-endblock55-obj5nlzu" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color:transparent"><use xmlns:xlink="http://www.w3.org/1999/xlink" fill="green" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block" style="-webkit-tap-highlight-color:transparent"/></marker></defs><rect width="68" height="38" x="10" y="20" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="48" height="18" x="19.984" y="30" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="44" y="39" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Envoy</tspan></text><rect width="68" height="38" x="10" y="192" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="48" height="18" x="19.984" y="202" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="44" y="211" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Envoy</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M44,58L44,192" style="-webkit-tap-highlight-color:transparent"/><rect width="183.219" height="38" x="308.438" y="20" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="163.219" height="18" x="318.422" y="30" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="400.047" y="39" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Management Server</tspan></text><rect width="183.219" height="38" x="308.438" y="192" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="163.219" height="18" x="318.422" y="202" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="400.047" y="211" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Management Server</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M400.046875,58L400.046875,192" style="-webkit-tap-highlight-color:transparent"/><rect width="259.234" height="18" x="92.391" y="74" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="222.023" y="83" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">(V=X,R={foo,bar},N=A,T=EDS)</tspan></text><path fill="none" stroke="green" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objsrefz)" d="M44,96C44,96,351.8996730474755,96,395.04772293254655,96" style="-webkit-tap-highlight-color:transparent"/><rect width="336.047" height="18" x="53.984" y="112" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="222.023" y="121" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">(V=Y,R={foo:...,bar:...},N=B,T=EDS)</tspan></text><path fill="none" stroke="gray" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj4i9mm)" d="M400.046875,134C400.046875,134,92.14720195252448,134,48.99915206745345,134" style="-webkit-tap-highlight-color:transparent"/><rect width="259.234" height="18" x="92.391" y="150" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="222.023" y="159" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">(V=Y,R={foo,bar},N=B,T=EDS)</tspan></text><path fill="none" stroke="green" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj5nlzu)" d="M44,172C44,172,351.8996730474755,172,395.04772293254655,172" style="-webkit-tap-highlight-color:transparent"/></svg>