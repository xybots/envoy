<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="667" height="288"><source><![CDATA[participant Envoy as E [color="black"]
participant Management Server 0 as M0 [color="black"]
participant Management Server 1 as M1 [color="black"]

E->M1: (V=..,R={},N=..,T=CDS) [color="green"]
E->M0: (V=X,R={foo},N=A,T=EDS) [color="green"]
M1->E: (V=M,R={foo:...,bar:...},N=D,T=CDS) [color="gray"]
E->M0: (V=X,R={foo,bar},N=A,T=EDS [color="green"]]]></source><desc style="-webkit-tap-highlight-color:transparent">Created with RaphaÃ«l 2.2.0</desc><defs style="-webkit-tap-highlight-color:transparent"><path id="raphael-marker-block" stroke-linecap="round" d="M5,0 0,2.5 5,5z" style="-webkit-tap-highlight-color:transparent"/><marker id="raphael-marker-endblock55-objotfc6" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color:transparent"><use xmlns:xlink="http://www.w3.org/1999/xlink" fill="green" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block" style="-webkit-tap-highlight-color:transparent"/></marker><marker id="raphael-marker-endblock55-objmxv5f" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color:transparent"><use xmlns:xlink="http://www.w3.org/1999/xlink" fill="green" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block" style="-webkit-tap-highlight-color:transparent"/></marker><marker id="raphael-marker-endblock55-obj5hcjl" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color:transparent"><use xmlns:xlink="http://www.w3.org/1999/xlink" fill="gray" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block" style="-webkit-tap-highlight-color:transparent"/></marker><marker id="raphael-marker-endblock55-obj4u5i0" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color:transparent"><use xmlns:xlink="http://www.w3.org/1999/xlink" fill="green" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block" style="-webkit-tap-highlight-color:transparent"/></marker></defs><rect width="68" height="38" x="10" y="20" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="48" height="18" x="19.984" y="30" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="44" y="39" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Envoy</tspan></text><rect width="68" height="38" x="10" y="230" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="48" height="18" x="19.984" y="240" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="44" y="249" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Envoy</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M44,58L44,230" style="-webkit-tap-highlight-color:transparent"/><rect width="202.422" height="38" x="212.43" y="20" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="182.422" height="18" x="222.422" y="30" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="313.641" y="39" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Management Server 0</tspan></text><rect width="202.422" height="38" x="212.43" y="230" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="182.422" height="18" x="222.422" y="240" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="313.641" y="249" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Management Server 0</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M313.640625,58L313.640625,230" style="-webkit-tap-highlight-color:transparent"/><rect width="202.422" height="38" x="434.852" y="20" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="182.422" height="18" x="444.844" y="30" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="536.063" y="39" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Management Server 1</tspan></text><rect width="202.422" height="38" x="434.852" y="230" fill="#fff" stroke="#000" stroke-width="2" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><rect width="182.422" height="18" x="444.844" y="240" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="536.063" y="249" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">Management Server 1</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M536.0625,58L536.0625,230" style="-webkit-tap-highlight-color:transparent"/><rect width="211.234" height="18" x="184.406" y="74" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="290.031" y="83" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">(V=..,R={},N=..,T=CDS)</tspan></text><path fill="none" stroke="green" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objotfc6)" d="M44,96C44,96,479.2969935396686,96,531.0522757305423,96" style="-webkit-tap-highlight-color:transparent"/><rect width="220.828" height="18" x="68.391" y="112" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="178.82" y="121" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">(V=X,R={foo},N=A,T=EDS)</tspan></text><path fill="none" stroke="green" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objmxv5f)" d="M44,134C44,134,271.82185843680054,134,308.6426763775139,134" style="-webkit-tap-highlight-color:transparent"/><rect width="336.047" height="18" x="122" y="150" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="290.031" y="159" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">(V=M,R={foo:...,bar:...},N=D,T=CDS)</tspan></text><path fill="none" stroke="gray" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj5hcjl)" d="M536.0625,172C536.0625,172,100.76550646033138,172,49.010224269457694,172" style="-webkit-tap-highlight-color:transparent"/><rect width="249.641" height="18" x="54" y="188" fill="#fff" stroke="none" rx="0" ry="0" style="-webkit-tap-highlight-color:transparent"/><text x="178.82" y="197" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="-webkit-tap-highlight-color:transparent;text-anchor:middle;font-family:&quot;Andale Mono&quot;,monospace;font-size:16px"><tspan dy="6" style="-webkit-tap-highlight-color:transparent">(V=X,R={foo,bar},N=A,T=EDS</tspan></text><path fill="none" stroke="green" stroke-dasharray="none" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj4u5i0)" d="M44,210C44,210,271.82185843680054,210,308.6426763775139,210" style="-webkit-tap-highlight-color:transparent"/></svg>